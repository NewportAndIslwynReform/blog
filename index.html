<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Political Party Website with Tabs</title>
  <style>
    /* General Styles */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
    }
    .container {
      width: 90%;
      max-width: 1000px;
      margin: 50px auto 20px;
      background: #fff;
      padding: 20px;
      box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
      border-radius: 4px;
      position: relative;
    }
    /* Title Block */
    .title-block {
      text-align: center;
      margin-bottom: 20px;
    }
    .title-block h1 {
      margin: 0;
      font-size: 2rem;
      color: #333;
    }
    /* Admin Link (top right) */
    #adminLink {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 110;
      font-size: 0.9rem;
      text-decoration: none;
      color: #333;
    }
    #adminLink:hover {
      text-decoration: underline;
    }
    /* Tab Navigation */
    .tabs {
      display: flex;
      list-style: none;
      padding: 0;
      margin: 0 0 10px;
      border-bottom: 2px solid #333;
    }
    .tabs li {
      padding: 10px 20px;
      cursor: pointer;
      background: #f1f1f1;
      margin-right: 5px;
      border-top-left-radius: 4px;
      border-top-right-radius: 4px;
      transition: background 0.3s;
    }
    .tabs li:hover {
      background: #e2e2e2;
    }
    .tabs li.active {
      background: #fff;
      border: 2px solid #333;
      border-bottom: none;
    }
    /* Hide Admin-Only Tabs by default */
    .admin-tab {
      display: none;
    }
    /* Tab Content Sections */
    .tab-content {
      display: none;
      border: 2px solid #333;
      border-top: none;
      padding: 20px;
      background: #fff;
    }
    .tab-content.active {
      display: block;
    }
    /* Form Styling for Entry Tabs */
    form input[type="text"],
    form input[type="date"],
    form textarea {
      width: 100%;
      padding: 8px;
      margin: 5px 0;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    form button {
      padding: 10px 20px;
      background: #333;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s;
    }
    form button:hover {
      background: #555;
    }
    /* Section styling within Add Entries tab */
    .entry-section {
      margin-bottom: 20px;
    }
    .entry-section h3 {
      margin-bottom: 10px;
      color: #333;
    }
    /* Individual item styling */
    .item {
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
      background-color: #fafafa;
    }
    .item h3 {
      margin-top: 0;
    }
    /* Committee Member Specific Styling */
    .committee-member {
      display: flex;
      align-items: center;
    }
    .committee-img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 15px;
    }
    .committee-info {
      flex: 1;
    }
    /* Drop Zone Styling for Drag & Drop Image Upload */
    .drop-zone {
      border: 2px dashed #ccc;
      border-radius: 4px;
      width: 100px;
      height: 100px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      margin-bottom: 10px;
      text-align: center;
    }
    .drop-zone.drop-zone--over {
      border-color: #333;
    }
    .drop-zone img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
    }
    .drop-zone p {
      margin: 0;
      font-size: 0.8rem;
      color: #666;
    }
    /* Modal (Login Window) Styling */
    .modal {
      display: none; /* Hidden by default */
      position: fixed;
      z-index: 120;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.4);
    }
    .modal-content {
      background-color: #fefefe;
      margin: 15% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 300px;
      border-radius: 4px;
      text-align: center;
      position: relative;
    }
    .close {
      color: #aaa;
      position: absolute;
      right: 10px;
      top: 5px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover,
    .close:focus {
      color: black;
    }
  </style>
</head>
<body>
  <!-- Admin Link (Always Visible) -->
  <a href="#" id="adminLink">Admin</a>

  <div class="container">
    <!-- Title Block -->
    <div class="title-block">
      <h1>Newport & Islwyn Branch Reform UK</h1>
    </div>

    <!-- Tab Navigation -->
    <ul class="tabs">
      <li class="active" data-tab="blog">Blog</li>
      <li data-tab="events">Events</li>
      <li data-tab="committee">Committee Members</li>
      <li data-tab="entry" class="admin-tab">Add Entries</li>
      <li data-tab="addCommittee" class="admin-tab">Add Committee</li>
    </ul>

    <!-- Tab Content Sections -->

    <!-- Blog Tab: Displays Blog Posts Only -->
    <div id="blog" class="tab-content active">
      <h2>Blog</h2>
      <div id="blogPosts">
        <!-- Blog posts will be rendered here -->
      </div>
    </div>

    <!-- Events Tab: Displays Event List Only -->
    <div id="events" class="tab-content">
      <h2>Events</h2>
      <div id="eventList">
        <!-- Events will be rendered here -->
      </div>
    </div>

    <!-- Committee Members Tab -->
    <div id="committee" class="tab-content">
      <h2>Committee Members</h2>
      <div id="committeeList">
        <!-- Committee members will be rendered here -->
      </div>
    </div>

    <!-- Add Entries Tab: Contains Blog and Event Entry Forms (Admin Only) -->
    <div id="entry" class="tab-content admin-tab">
      <h2>Add New Entries</h2>
      <div class="entry-section">
        <h3>New Blog Post</h3>
        <form id="blogForm">
          <input type="text" id="blogTitle" placeholder="Title" required>
          <textarea id="blogContent" placeholder="Enter blog content here..." rows="4" required></textarea>
          <button type="submit">Add Blog Post</button>
        </form>
      </div>
      <div class="entry-section">
        <h3>New Event</h3>
        <form id="eventForm">
          <input type="text" id="eventTitle" placeholder="Event Title" required>
          <input type="date" id="eventDate" required>
          <textarea id="eventDescription" placeholder="Event Description" rows="4" required></textarea>
          <button type="submit">Add Event</button>
        </form>
      </div>
    </div>

    <!-- Add Committee Tab: Contains the Committee Member Entry Form with Drag & Drop Image (Admin Only) -->
    <div id="addCommittee" class="tab-content admin-tab">
      <h2>Add Committee Member</h2>
      <form id="committeeForm">
        <input type="text" id="committeeName" placeholder="Member Name" required>
        <input type="text" id="committeePosition" placeholder="Position" required>
        <div id="committeeDropZone" class="drop-zone">
          <img id="committeePreview" src="https://via.placeholder.com/80" alt="Drop image here">
          <p>Drag & drop an image here</p>
        </div>
        <button type="submit">Add Committee Member</button>
      </form>
    </div>
  </div>

  <!-- Modal Login Window -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close" id="modalClose">&times;</span>
      <h2>Admin Login</h2>
      <input type="password" id="adminPassword" placeholder="Enter password" style="width:100%; padding:8px; margin-bottom:10px; border:1px solid #ccc; border-radius:4px;">
      <button id="loginButton">Login</button>
    </div>
  </div>

  <!-- JavaScript for Data Persistence, UI Rendering, and Functionality -->
  <script>
    /***** Data Persistence Setup *****/
    // Default data arrays
    const defaultBlogPosts = [
      {
        title: "Welcome to Our Party",
        content: "This is our inaugural blog post, introducing our vision and mission."
      },
      {
        title: "Upcoming Policies",
        content: "Discover the new policies we are planning to introduce to serve the community better."
      }
    ];

    const defaultEventsData = [
      {
        date: "2025-03-15",
        title: "Annual General Meeting",
        description: "Join us for our annual general meeting where we discuss the roadmap for the coming year."
      },
      {
        date: "2025-04-10",
        title: "Campaign Rally",
        description: "Be a part of our campaign rally and support our efforts to bring change."
      }
    ];

    const defaultCommitteeMembers = [
      { name: "John Doe", position: "President", imageUrl: "https://via.placeholder.com/80" },
      { name: "Jane Smith", position: "Vice President", imageUrl: "https://via.placeholder.com/80" },
      { name: "Alice Johnson", position: "Secretary", imageUrl: "https://via.placeholder.com/80" }
    ];

    // Load data from localStorage (or use default if not present)
    let blogPostsData = localStorage.getItem('blogPosts')
      ? JSON.parse(localStorage.getItem('blogPosts'))
      : defaultBlogPosts;
    localStorage.setItem('blogPosts', JSON.stringify(blogPostsData));

    let eventsData = localStorage.getItem('eventsData')
      ? JSON.parse(localStorage.getItem('eventsData'))
      : defaultEventsData;
    localStorage.setItem('eventsData', JSON.stringify(eventsData));

    let committeeMembersData = localStorage.getItem('committeeMembers')
      ? JSON.parse(localStorage.getItem('committeeMembers'))
      : defaultCommitteeMembers;
    localStorage.setItem('committeeMembers', JSON.stringify(committeeMembersData));

    /***** Rendering Functions *****/
    function renderBlogPosts() {
      const container = document.getElementById('blogPosts');
      container.innerHTML = "";
      blogPostsData.forEach(post => {
        let postDiv = document.createElement('div');
        postDiv.classList.add('item');
        postDiv.innerHTML = `<h3>${post.title}</h3><p>${post.content}</p>`;
        container.appendChild(postDiv);
      });
    }

    function renderEvents() {
      const container = document.getElementById('eventList');
      container.innerHTML = "";
      eventsData.forEach(event => {
        let eventDiv = document.createElement('div');
        eventDiv.classList.add('item');
        eventDiv.innerHTML = `<h3>${event.title}</h3>
                              <p><strong>Date:</strong> ${event.date}</p>
                              <p>${event.description}</p>`;
        container.appendChild(eventDiv);
      });
    }

    function renderCommitteeMembers() {
      const container = document.getElementById('committeeList');
      container.innerHTML = "";
      committeeMembersData.forEach(member => {
        let memberDiv = document.createElement('div');
        memberDiv.classList.add('item');
        memberDiv.innerHTML = `
          <div class="committee-member">
            <img src="${member.imageUrl}" alt="Profile Image of ${member.name}" class="committee-img">
            <div class="committee-info">
              <h3>${member.name}</h3>
              <p><strong>Position:</strong> ${member.position}</p>
            </div>
          </div>`;
        container.appendChild(memberDiv);
      });
    }

    // Initial render on page load
    renderBlogPosts();
    renderEvents();
    renderCommitteeMembers();

    /***** Functions to Add New Entries & Persist Data *****/
    function addBlogPost(title, content) {
      const post = { title, content };
      blogPostsData.unshift(post);
      localStorage.setItem('blogPosts', JSON.stringify(blogPostsData));
      renderBlogPosts();
    }

    function addEvent(title, date, description) {
      const event = { title, date, description };
      eventsData.unshift(event);
      localStorage.setItem('eventsData', JSON.stringify(eventsData));
      renderEvents();
    }

    function addCommitteeMember(name, position, imageUrl) {
      const member = { name, position, imageUrl };
      committeeMembersData.unshift(member);
      localStorage.setItem('committeeMembers', JSON.stringify(committeeMembersData));
      renderCommitteeMembers();
    }

    /***** Form Submission Event Listeners *****/
    document.getElementById('blogForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const title = document.getElementById('blogTitle').value;
      const content = document.getElementById('blogContent').value;
      addBlogPost(title, content);
      document.getElementById('blogTitle').value = '';
      document.getElementById('blogContent').value = '';
    });

    document.getElementById('eventForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const title = document.getElementById('eventTitle').value;
      const date = document.getElementById('eventDate').value;
      const description = document.getElementById('eventDescription').value;
      addEvent(title, date, description);
      document.getElementById('eventTitle').value = '';
      document.getElementById('eventDate').value = '';
      document.getElementById('eventDescription').value = '';
    });

    document.getElementById('committeeForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const name = document.getElementById('committeeName').value;
      const position = document.getElementById('committeePosition').value;
      const imageUrl = document.getElementById('committeePreview').src;
      addCommitteeMember(name, position, imageUrl);
      document.getElementById('committeeName').value = '';
      document.getElementById('committeePosition').value = '';
      document.getElementById('committeePreview').src = 'https://via.placeholder.com/80';
    });

    /***** Drag & Drop for Committee Image Upload *****/
    const dropZone = document.getElementById('committeeDropZone');
    const previewImage = document.getElementById('committeePreview');

    dropZone.addEventListener('dragover', function(e) {
      e.preventDefault();
      dropZone.classList.add('drop-zone--over');
    });

    dropZone.addEventListener('dragleave', function(e) {
      e.preventDefault();
      dropZone.classList.remove('drop-zone--over');
    });

    dropZone.addEventListener('drop', function(e) {
      e.preventDefault();
      dropZone.classList.remove('drop-zone--over');
      const files = e.dataTransfer.files;
      if (files.length > 0) {
        const file = files[0];
        if (file.type.startsWith('image/')) {
          const reader = new FileReader();
          reader.onload = function(e) {
            previewImage.src = e.target.result;
          };
          reader.readAsDataURL(file);
        } else {
          alert("Please drop an image file.");
        }
      }
    });

    /***** Tab Switching Functionality *****/
    const tabs = document.querySelectorAll('.tabs li');
    const tabContents = document.querySelectorAll('.tab-content');

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const target = tab.getAttribute('data-tab');
        tabs.forEach(t => t.classList.remove('active'));
        tabContents.forEach(content => content.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(target).classList.add('active');
      });
    });

    /***** ADMIN LOGIN FUNCTIONALITY *****/
    const adminLink = document.getElementById('adminLink');
    const loginModal = document.getElementById('loginModal');
    const modalClose = document.getElementById('modalClose');
    const loginButton = document.getElementById('loginButton');
    const adminPassword = document.getElementById('adminPassword');

    // Open modal when Admin link is clicked
    adminLink.addEventListener('click', function(e) {
      e.preventDefault();
      loginModal.style.display = "block";
      adminPassword.value = "";
      adminPassword.focus();
    });

    // Close modal when the close button is clicked
    modalClose.addEventListener('click', function() {
      loginModal.style.display = "none";
    });

    // Check password when login button is clicked
    loginButton.addEventListener('click', function() {
      if (adminPassword.value === "1812") {
        // Reveal admin-only tabs and content
        document.querySelectorAll('.admin-tab').forEach(el => {
          el.style.display = "";
          el.classList.remove('admin-tab');
        });
        loginModal.style.display = "none";
        alert("Admin mode enabled.");
      } else {
        alert("Incorrect password. Please try again.");
      }
    });

    // Close modal if user clicks outside the modal content
    window.addEventListener('click', function(event) {
      if (event.target === loginModal) {
        loginModal.style.display = "none";
      }
    });
  </script>
</body>
</html>







